<!DOCTYPE HTML>
<html lang="en-US">
<head>
<meta charset="UTF-8">
<title>Magetool documentation</title>
<link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/combo?2.8.0r4/build/reset-fonts/reset-fonts.css&2.8.0r4/build/base/base-min.css">
<style type="text/css">
  html { text-align:center; }
  body { font-size:123.1%; margin:0 auto; text-align:left; width:30em; }
  h1,h2,h3 { margin:1em 0 0 0; position:relative; }
  li { margin-bottom:1em; }
  pre { background:#d8e3ee; padding:10px; width:100%; overflow:auto; }
  .u { font-family:sans-serif; }
  #doc { bottom:11px; color:#fb8b00; position:absolute; right:90px; }
  #footer { border-top:1px solid #000; color:#666; padding-top:10px; font-size:61.54%; }
</style>
</head>
<body>

<h1><a href="http://jhckragh.github.com/magetool/"><img src="images/mt_logo.png" width="289" height="82" alt="Magetool"></a> <span id="doc">documentation</span></h1>

<h2>Creating modules</h2>
<p>To create a new module called NewProduct, navigate to a namespace
   directory (e.g., <code>~/public_html/magento/app/code/local/Company/</code>)
   and run Magetool like this:
</p>
<pre><code>magetool create module NewProduct
</code></pre><p>This will create the following directory structure within the
   namespace directory:
</p>
<pre><code>- NewProduct/
   |- Block/
   |- controllers/
   |- etc/
   |   '- config.xml
   |- Helper/
   |- Model/
   |- sql/
</code></pre><p>In addition it will activate the module by creating an activation file
   in <code>../../../etc/modules/</code>. (In the example case the file will be
   called <code>Company_NewProduct.xml</code>.)
</p>

<h2>Creating controllers</h2>
<p>To create an IndexController in a module, navigate to the module's
   directory (e.g., <code>~/public_html/magento/app/code/local/Company/NewProduct/</code>)
   and run Magetool like this:
</p>
<pre><code>magetool create controller index
</code></pre><p>This will do two things:
</p>
<ol>
 <li><p>It will define a skeleton PHP class in <code>controllers/IndexController.php</code>:
</p>
<pre><code>&lt;?php
class class Company_NewProduct_IndexController
    extends Mage_Core_Controller_Front_Action
{

}
</code></pre>
 </li>

 <li><p>It will update the module's configuration file, <code>etc/config.xml</code>,
      to tell Magento that the module now has one or more controllers to
      dispatch to:
</p>
<pre><code>...
&lt;frontend&gt;
  ...
  &lt;routers&gt;
    &lt;newproduct&gt;
      &lt;use&gt;standard&lt;/use&gt;
        &lt;args&gt;
          &lt;module&gt;Company_NewProduct&lt;/module&gt;
          &lt;frontName&gt;newproduct&lt;/frontName&gt;
        &lt;/args&gt;
    &lt;/newproduct&gt;
  &lt;/routers&gt;
  ...
&lt;/frontend&gt;
...
</code></pre>
 </li>
</ol>

<h2>Creating blocks, helpers, and models</h2>
<p>To create a block called <code>ProductViewCase</code> in a module, navigate to the
   module's directory and run Magetool like this:
</p>
<pre><code>magetool create block ProductViewCase
</code></pre><p>(To create a helper or a model with the same name, replace <code>block</code> with
   either <code>helper</code> or <code>model</code>, respectively.)
</p>
<p>This will Do The Right Thing. In the case of blocks and helpers, it
   will define a skeleton PHP class in <code>Block/ProductViewCase.php</code> or
   <code>Helper/ProductViewCase.php</code>. In addition, it will update the module's
   configuration file to tell Mage that the module has one or more
   Block/Helper classes, e.g.:
</p>
<pre><code>...
&lt;global&gt;
  ...
  &lt;blocks&gt;
    &lt;newproduct&gt;
      &lt;class&gt;Company_NewProduct_Block&lt;/class&gt;
    &lt;/newproduct&gt;
  &lt;/blocks&gt;
  ...
&lt;/global&gt;
...
</code></pre><p>In the case of models the above invocation will define a PHP clas in
   Model/ProductViewCase.php. Also, it will create a resource model at
   Model/Mysql4/ProductViewCase.php and update the module's configuration
   file accordingly.
</p>

<h2>Note on creating models</h2>
<p>The syntax for creating models is the same as that for creating blocks
   and helpers. However, as creating and registering a model is more
   complex than creating and registering a block or a helper, the <code>model</code>
   command supports two options for customizing how it is done:
</p>
<ul>
 <li><p><code>-t</code> or <code>--table</code>: This option allows you to specify which table the
                     model's entity corresponds to.
</p>

 </li>

 <li><p><code>-i</code> or <code>--id-field-name</code>: This option allows you to specify which
                             column in the table uniquely identifies
                 rows in the table.
</p>

 </li>
</ul>
<p>Note that these are <em>options</em>: you don't have to use them. Magetool
   provides sane defaults for both options.
</p>

<h2>Creating layout files</h2>
<p>To create a layout file called <code>newproduct.xml</code> in
   <code>app/design/frontend/default/default/</code>, run Magetool like this from a
   module directory (not from within <code>app/design/frontend/default/default/</code>):
</p>
<pre><code>magetool create layout newproduct
</code></pre>
<h2>Registering files</h2>
<p>Sometimes you might be working on a module where classes or layout
   files have been defined manually but where the module's configuration
   file has not been updated accordingly. To register the presence of
   these kinds of files in the configuration file, use the <code>register</code>
   action, e.g.:
</p>
<pre><code>magetool register block
</code></pre><p>This will update the configuration file the same way <code>magetool create
block</code> does but will not actually create any new files.
</p>

<h2>Specifying superclasses</h2>
<p>Normally when you use the <code>create</code> action, Magetool defines the created
   PHP class so that it extends a generic superclass. Running
</p>
<pre><code>magetool create helper Data
</code></pre><p>for instance, defines a PHP class in <code>Helper/Data.php</code> which extends
   <code>Mage_Core_Helper_Abstract</code>.
</p>
<p>To manually specify which superclass a PHP class should extend, use
   the <code>-s</code> or <code>--superclass</code> option:
</p>
<pre><code>magetool -s Mage_Catalog_Helper_Image create helper Data
</code></pre><p>This will define a PHP class in <code>Helper/Data.php</code> which extends
   <code>Mage_Catalog_Helper_Image</code>.
</p>

<h2>Overriding classes</h2>
<p>To tell Mage that a created class should override its superclass, use
   the <code>-o</code> or <code>--override</code> option.
</p>
<p>To illustrate, the following invocation will define a block in
   <code>Block/Over.php</code> which extends and overrides the class
   <code>Mage_Catalog_Block_Product_View_Type_Simple</code>:
</p>
<pre><code>magetool -os Mage_Catalog_Block_Product_View_Type_Simple create block Over
</code></pre>
<div id="footer">
<p>Magento is a trademark of Irubin Consulting Inc. Magetool is not in
   any way affiliated with or endorsed by this trademark owner.
</p>
</div>
</body>
</html>

